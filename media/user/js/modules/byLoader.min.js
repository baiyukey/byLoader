var whenReady=function(){var a=[];var c=false;var b=function(f){if(c){return}if(f.type==="onreadystatechange"&&document.readyState!=="complete"){return}for(var d=0;d<a.length;d++){a[d].call(document)}c=true;a=null};if(document.addEventListener){document.addEventListener("DOMContentLoaded",b,false);document.addEventListener("readystatechange",b,false);window.addEventListener("load",b,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",b);window.attachEvent("onload",b)}}return function(d){if(c){d.call(document)}else{a.push(d)}}}();Array.prototype.removeRepeat=function(){var a=this;var c=[];var b={};for(var d=0;d<a.length;d++){if(!b[a[d]]){c.push(a[d]);b[a[d]]=true}}return c};whenReady(function(){var n=document.getElementsByTagName("script");var a=null;var f=[],c=[];var l="";for(var j=0;j<n.length;j++){if(n[j].getAttribute("src")&&n[j].getAttribute("src").indexOf("byLoader")>=0){a=n[j]}}if(a!=null&&console.log&&a.getAttribute("src").indexOf("byLoader.min")<0){var d=true}if(a===null&&d){console.log("错误提示:程序未成功执行,请支持原创,插件名称不要改动.如有问题请访问:https://github.com/baiyukey/byLoader");return false}if(!a.getAttribute("data-base-dir")&&console.log){console.log('友情提示:由于"data-base-dir"的值为空,byLoader已停止执行.')}else{l=a.getAttribute("data-base-dir")}if(!a.getAttribute("data-css")&&d){console.log('友情提示:"data-css"的值为空.')}else{c=a.getAttribute("data-css").split(",")}if(!a.getAttribute("data-js")&&d){console.log('友情提示:"data-js"的值为空.')}else{f=a.getAttribute("data-js").split(",")}var k=location.pathname.split("/")[1]=="static"?"/static":"/";var m=location.pathname.replace(k,"").replace(".html","");var h="modules/"+m;var g=/^((192\.168|172\.([1][6-9]|[2]\d|3[01]))(\.([2][0-4]\d|[2][5][0-5]|[01]?\d?\d)){2}|10(\.([2][0-4]\d|[2][5][0-5]|[01]?\d?\d)){3})|(localhost)$/.test(window.location.hostname)?"":".min";var e=g===""?""+new Date().getTime():""+new Date().getMonth()+new Date().getDate()+Math.ceil((new Date().getHours()+1)/2);window.byLoader=function(){var i=function(w,v,z){if(window.localStorage){var y;var x=localStorage.getItem(w);if(x==null||x.length==0||e!=localStorage.getItem("version")){if(window.XMLHttpRequest){y=new XMLHttpRequest()}else{if(window.ActiveXObject){y=new ActiveXObject("Microsoft.XMLHTTP")}}if(y!=null){y.open("GET",v+".js");y.send(null);y.onreadystatechange=function(){if(y.readyState==4&&y.status==200){x=y.responseText;localStorage.setItem(w,x);x=x==null?"":x;p(w,x);if(z!=null){z()}}}}}else{p(w,x);if(z!=null){z()}}}else{s(v+".js")}};var r=function(w,v,z){if(window.localStorage){var y;var x=localStorage.getItem(w);if(x==null||x.length==0||e!=localStorage.getItem("version")){if(window.XMLHttpRequest){y=new XMLHttpRequest()}else{if(window.ActiveXObject){y=new ActiveXObject("Microsoft.XMLHTTP")}}if(y!=null){y.open("GET",v+".css");y.send(null);y.onreadystatechange=function(){if(y.readyState==4&&y.status==200){x=y.responseText;x=x==null?"":x;x=x.replace(/\/byAdmin\/media\/user\//g,l);localStorage.setItem(w,x);t(w,x);if(z!=null){z()}}}}}else{t(w,x);if(z!=null){z()}}}else{q(v+".css")}};var p=function(v,y){var w=document.getElementsByTagName("HEAD").item(0);var x=document.createElement("script");x.setAttribute("type","text/javascript");x.setAttribute("data-name",v);if(v.indexOf("require")>0){x.setAttribute("data-main",l+"js/"+h+g)}x.innerHTML=y;w.appendChild(x)};var t=function(v,y){var w=document.getElementsByTagName("HEAD").item(0);var x=document.createElement("style");x.setAttribute("type","text/css");x.setAttribute("data-name",v);x.innerHTML=y;w.appendChild(x)};var s=function(v){var w=document.getElementsByTagName("HEAD").item(0);var x=document.createElement("script");if(v.indexOf("require.js")>0){x.setAttribute("data-main",l+"js/"+h+g)}x.src=v;w.appendChild(x)};var q=function(v){var w=document.getElementsByTagName("HEAD").item(0);var x=document.createElement("link");x.type="text/css";x.rel="stylesheet";x.rev="stylesheet";x.media="screen";x.href=v;w.appendChild(x)};var u=function(B,v,A,x){var C=B;var y=v.removeRepeat();var D=A.toUpperCase();var z=-1;var w=function(){z++;if(z>=y.length){if(typeof(x)!="undefined"){x.call(this)}return false}else{if(D==="JS"){i(y[z],C+y[z],w)}if(D==="CSS"){r(y[z],C+y[z],w)}}};w()};var o=function(){localStorage.setItem("version",e)};this.cssSort=[];this.jsSort=[];this.run=function(){this.cssSort.push(m);u(l+"css/",this.cssSort,"css");u(l+"js/",this.jsSort,"js",o)}};c.push(m);if(f.indexOf("require")<0){f.push(h)}var b=new byLoader();b.cssSort=c;b.jsSort=f;b.run()});